prompts:
- file: tests/prompts/task_prompt_variant_0.txt
- file: tests/prompts/task_prompt_variant_1.txt
- file: tests/prompts/task_prompt_variant_2.txt
providers:
- openai:gpt-3.5-turbo
tests:
- assert:
  - type: javascript
    value: response.toLowerCase().includes('$10') && response.toLowerCase().includes('$25')
      && response.toLowerCase().includes('$50')
  description: Test pricing query
  vars:
    user_query: How much does it cost?
    website_structure: '{"url": "https://example.com", "title": "Example E-Commerce
      Store", "internal_link_count": 42, "external_link_count": 15, "navigation_links":
      [{"text": "Home", "url": "https://example.com/", "section": "Main Navigation"},
      {"text": "Products", "url": "https://example.com/products", "section": "Main
      Navigation"}, {"text": "About Us", "url": "https://example.com/about", "section":
      "Main Navigation"}, {"text": "Contact", "url": "https://example.com/contact",
      "section": "Main Navigation"}, {"text": "Pricing", "url": "https://example.com/pricing",
      "section": "Main Navigation"}, {"text": "Blog", "url": "https://example.com/blog",
      "section": "Footer Navigation"}], "content_sections": [{"heading": "Welcome",
      "content": "Welcome to our online store", "length": 100}, {"heading": "Featured
      Products", "content": "Check out our featured products", "length": 200}, {"heading":
      "Pricing Plans", "content": "We offer three pricing tiers: Basic ($10/mo), Pro
      ($25/mo), and Enterprise ($50/mo)", "length": 300}], "sitemap_structure": {"hostname":
      "example.com", "linksByDepth": {"0": [{"url": "https://example.com/", "path":
      ""}], "1": [{"url": "https://example.com/products", "path": "products"}, {"url":
      "https://example.com/pricing", "path": "pricing"}, {"url": "https://example.com/about",
      "path": "about"}, {"url": "https://example.com/contact", "path": "contact"}]},
      "totalUniqueLinks": 5}, "forms": [{"purpose": "contact", "fields": [{"name":
      "email"}, {"name": "message"}]}, {"purpose": "newsletter", "fields": [{"name":
      "email"}]}], "social_links": [{"platform": "twitter", "url": "https://twitter.com/example"},
      {"platform": "facebook", "url": "https://facebook.com/example"}]}'
- assert:
  - type: javascript
    value: response.toLowerCase().includes('contact')
  description: Test contact information query
  vars:
    user_query: How can I contact the company?
    website_structure: '{"url": "https://example.com", "title": "Example E-Commerce
      Store", "internal_link_count": 42, "external_link_count": 15, "navigation_links":
      [{"text": "Home", "url": "https://example.com/", "section": "Main Navigation"},
      {"text": "Products", "url": "https://example.com/products", "section": "Main
      Navigation"}, {"text": "About Us", "url": "https://example.com/about", "section":
      "Main Navigation"}, {"text": "Contact", "url": "https://example.com/contact",
      "section": "Main Navigation"}, {"text": "Pricing", "url": "https://example.com/pricing",
      "section": "Main Navigation"}, {"text": "Blog", "url": "https://example.com/blog",
      "section": "Footer Navigation"}], "content_sections": [{"heading": "Welcome",
      "content": "Welcome to our online store", "length": 100}, {"heading": "Featured
      Products", "content": "Check out our featured products", "length": 200}, {"heading":
      "Pricing Plans", "content": "We offer three pricing tiers: Basic ($10/mo), Pro
      ($25/mo), and Enterprise ($50/mo)", "length": 300}], "sitemap_structure": {"hostname":
      "example.com", "linksByDepth": {"0": [{"url": "https://example.com/", "path":
      ""}], "1": [{"url": "https://example.com/products", "path": "products"}, {"url":
      "https://example.com/pricing", "path": "pricing"}, {"url": "https://example.com/about",
      "path": "about"}, {"url": "https://example.com/contact", "path": "contact"}]},
      "totalUniqueLinks": 5}, "forms": [{"purpose": "contact", "fields": [{"name":
      "email"}, {"name": "message"}]}, {"purpose": "newsletter", "fields": [{"name":
      "email"}]}], "social_links": [{"platform": "twitter", "url": "https://twitter.com/example"},
      {"platform": "facebook", "url": "https://facebook.com/example"}]}'
- assert:
  - type: javascript
    value: response.toLowerCase().includes('twitter') && response.toLowerCase().includes('facebook')
  description: Test social media query
  vars:
    user_query: What social media platforms are they on?
    website_structure: '{"url": "https://example.com", "title": "Example E-Commerce
      Store", "internal_link_count": 42, "external_link_count": 15, "navigation_links":
      [{"text": "Home", "url": "https://example.com/", "section": "Main Navigation"},
      {"text": "Products", "url": "https://example.com/products", "section": "Main
      Navigation"}, {"text": "About Us", "url": "https://example.com/about", "section":
      "Main Navigation"}, {"text": "Contact", "url": "https://example.com/contact",
      "section": "Main Navigation"}, {"text": "Pricing", "url": "https://example.com/pricing",
      "section": "Main Navigation"}, {"text": "Blog", "url": "https://example.com/blog",
      "section": "Footer Navigation"}], "content_sections": [{"heading": "Welcome",
      "content": "Welcome to our online store", "length": 100}, {"heading": "Featured
      Products", "content": "Check out our featured products", "length": 200}, {"heading":
      "Pricing Plans", "content": "We offer three pricing tiers: Basic ($10/mo), Pro
      ($25/mo), and Enterprise ($50/mo)", "length": 300}], "sitemap_structure": {"hostname":
      "example.com", "linksByDepth": {"0": [{"url": "https://example.com/", "path":
      ""}], "1": [{"url": "https://example.com/products", "path": "products"}, {"url":
      "https://example.com/pricing", "path": "pricing"}, {"url": "https://example.com/about",
      "path": "about"}, {"url": "https://example.com/contact", "path": "contact"}]},
      "totalUniqueLinks": 5}, "forms": [{"purpose": "contact", "fields": [{"name":
      "email"}, {"name": "message"}]}, {"purpose": "newsletter", "fields": [{"name":
      "email"}]}], "social_links": [{"platform": "twitter", "url": "https://twitter.com/example"},
      {"platform": "facebook", "url": "https://facebook.com/example"}]}'
